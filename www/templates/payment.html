<ion-view>
    <ion-content>
        <div class="row subtitle filter" scroll="false">
            <div class="col col-100">
                <div class="left">
                    <span>Métodos de pago</span>
                </div>
                <div class="center">
                    <br>
                </div>
                <div class="right">
                    <br>
                </div>

            </div>
        </div>
        <content has-header="true" padding="true">
            <div class="list">
                <div ng-show="paymentType==0">
                    <div class="item padding">
                        <button class="button button-block button-positive" ng-click="setPaymentType(1)">
                            Pagar con Tarjeta de crédito
                        </button>
                    </div>
                    <!--<div class="item padding">-->
                        <!--<button class="button button-block button-positive" ng-click="setPaymentType(2)">-->
                            <!--Pagar con saldo paypal-->
                        <!--</button>-->
                    <!--</div>-->
                    <!--<div class="item padding">-->
                        <!--<button class="button button-block button-positive" ng-click="setPaymentType(3)">-->
                            <!--Pagar con tarjeta en paypal-->
                        <!--</button>-->
                    <!--</div>-->
                </div>
                <!--<div class="item padding" ng-show="paymentType!=0">-->
                    <!--<button class="button button-block button-positive" ng-click="setPaymentType(0)">-->
                        <!--Elegir otro método de pago-->
                    <!--</button>-->
                <!--</div>-->
            </div>

            <div class="list" ng-show="paymentType==1 || paymentType==3">

                <form name="paymentForm" novalidate ng-submit="makeCreditCardPayment(card, paymentForm)">
                    <label class="item item-input">
                        <span class="item-label">Producto: </span>
                        <span class="item-note" style="font-size: 13px; margin-left: 15px">{{subscriptions}}</span>
                    </label>
                    <!--<ion-radio ng-model="card.lapse" name="cardLapse" ng-value="12">12 meses</ion-radio>-->
                    <!--<ion-radio ng-repeat="item in subscriptions"-->
                               <!--ng-init="card.lapse = 1"-->
                               <!--ng-value="item.value"-->
                               <!--name="cardLapse"-->
                               <!--ng-model="card.lapse"-->
                               <!--ng-change="hasChanged()">-->
                        <!--Suscripción de {{item.text}} - {{item.amount}}€ + IVA-->
                    <!--</ion-radio>-->

                    <label class="item item-input">
                        <span class="input-label">Total sin impuestos</span>
                        <span class="item-note">{{card.amount| number:2}}€</span>
                    </label>

                    <label class="item item-input">
                        <span class="input-label">IVA</span>
                        <span class="item-note">{{card.iva| number:2}}€</span>
                    </label>

                    <label class="item item-input">
                        <span class="input-label">Importe total</span>
                        <span class="item-note">{{card.total| number:2}}€</span>
                    </label>

                    <!--Mostrados sólo si el tipo de pago es 3-->
                    <label class="item item-input item-stacked-label" ng-show="paymentType==3">
                        <span class="input-label">Primer nombre</span>
                        <input type="text" ng-model="card.firstName" name="firstName" placeholder="Su nombre aquí..." maxlength="25">
                    </label>

                    <label class="item item-input item-stacked-label" ng-show="paymentType==3">
                        <span class="input-label">Primer apellido</span>
                        <input type="text" ng-model="card.lastName" name="lastName" placeholder="Su apellido aquí..." maxlength="25">
                    </label>
                    <!-- -->

                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Número de tarjeta</span>
                        <input type="text" ng-model="card.number" maxlength="19" cc-number cc-eager-type name="ccNumber" cc-type="card.cardType" cc-format placeholder="Ingrese el número de su tarjeta..." ng-required="true">
                    </label>

                    <label class="item item-input">
                        <span class="input-label">Tipo de tarjeta</span>
                        <span>{{paymentForm.ccNumber.$ccEagerType || 'Se agregará automáticamente...'}}</span>
                    </label>

                    <label class="item item-input">
                        <span class="input-label">CVC</span>
                        <input type="text" ng-model="card.cvc" id="cvc" cc-cvc name="ccCvc" cc-type="paymentForm.ccNumber.$ccType">
                    </label>

                    <label class="item item-input">
                        <span class="input-label">Caducidad</span>
                        <input type="month" ng-model="card.exp_date">
                    </label>

                    <label class="item">
                        <button type="submit" ng-dblclick="return;" ng-disabled="paymentForm.$invalid || buttonDisabled" class="button button-block button-positive">REALIZAR PAGO</button>
                    </label>

                </form>
            </div>


            <div class="list" ng-show="paymentType==2">
                <form name="paymentFormPaypal" class="padding" ng-submit="makePayPalPayment(card, true)">

                    <label class="item item-input">
                        <span class="input-label">Saldo en €</span>
                        <input type="number" ng-model="card.amount" name="cardAmount2" placeholder="Escriba el saldo a recargar...">
                    </label>

                    <div class="padding">
                        <button type="submit" class="button button-block button-positive">Procesar pago PayPal</button>
                    </div>
                </form>
            </div>


        </content>
    </ion-content>
</ion-view>
